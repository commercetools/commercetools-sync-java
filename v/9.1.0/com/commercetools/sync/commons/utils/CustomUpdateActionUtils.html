<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>CustomUpdateActionUtils (commercetools-sync-java 9.1.0 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CustomUpdateActionUtils (commercetools-sync-java 9.1.0 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":9,"i1":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.commercetools.sync.commons.utils</a></div>
<h2 title="Class CustomUpdateActionUtils" class="title">Class CustomUpdateActionUtils</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.commercetools.sync.commons.utils.CustomUpdateActionUtils</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public final class <span class="typeNameLabel">CustomUpdateActionUtils</span>
extends java.lang.Object</pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static &lt;D,&#8203;T extends io.sphere.sdk.types.Custom,&#8203;S extends io.sphere.sdk.types.CustomDraft,&#8203;U extends io.sphere.sdk.models.ResourceView&gt;<br>java.util.List&lt;io.sphere.sdk.commands.UpdateAction&lt;U&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#buildCustomUpdateActions(D,T,S,com.commercetools.sync.commons.helpers.GenericCustomActionBuilder,java.lang.Integer,java.util.function.Function,java.util.function.Function,java.util.function.Function,com.commercetools.sync.commons.BaseSyncOptions)">buildCustomUpdateActions</a></span>&#8203;(D&nbsp;newMainResourceDraft,
                        T&nbsp;oldResource,
                        S&nbsp;newResourceDraft,
                        <a href="../helpers/GenericCustomActionBuilder.html" title="interface in com.commercetools.sync.commons.helpers">GenericCustomActionBuilder</a>&lt;U&gt;&nbsp;customActionBuilder,
                        java.lang.Integer&nbsp;variantId,
                        java.util.function.Function&lt;T,&#8203;java.lang.String&gt;&nbsp;resourceIdGetter,
                        java.util.function.Function&lt;T,&#8203;java.lang.String&gt;&nbsp;resourceTypeIdGetter,
                        java.util.function.Function&lt;T,&#8203;java.lang.String&gt;&nbsp;updateIdGetter,
                        <a href="../BaseSyncOptions.html" title="class in com.commercetools.sync.commons">BaseSyncOptions</a>&nbsp;syncOptions)</code></th>
<td class="colLast">
<div class="block">Compares the <code>CustomFields</code> of an old resource <code>T</code> (for example <code>Category</code>,
 <code>Product</code>, etc..), to the <code>CustomFieldsDraft</code>, of a new
 resource draft <code>S</code> (for example <code>CategoryDraft</code>, <code>ProductVariantDraft</code>, etc..), and returns a <code>List</code>&lt;<code>UpdateAction</code>&gt; as a result.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static &lt;T extends io.sphere.sdk.types.Custom &amp; io.sphere.sdk.models.Resource&lt;T&gt;,&#8203;S extends io.sphere.sdk.types.CustomDraft&gt;<br>java.util.List&lt;io.sphere.sdk.commands.UpdateAction&lt;T&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#buildPrimaryResourceCustomUpdateActions(T,S,com.commercetools.sync.commons.helpers.GenericCustomActionBuilder,com.commercetools.sync.commons.BaseSyncOptions)">buildPrimaryResourceCustomUpdateActions</a></span>&#8203;(T&nbsp;oldResource,
                                       S&nbsp;newResource,
                                       <a href="../helpers/GenericCustomActionBuilder.html" title="interface in com.commercetools.sync.commons.helpers">GenericCustomActionBuilder</a>&lt;T&gt;&nbsp;customActionBuilder,
                                       <a href="../BaseSyncOptions.html" title="class in com.commercetools.sync.commons">BaseSyncOptions</a>&nbsp;syncOptions)</code></th>
<td class="colLast">
<div class="block">This method is a syntactic sugar for the method <a href="#buildCustomUpdateActions(T,S,com.commercetools.sync.commons.helpers.GenericCustomActionBuilder,java.lang.Integer,java.util.function.Function,java.util.function.Function,java.util.function.Function,com.commercetools.sync.commons.BaseSyncOptions)"><code>buildCustomUpdateActions(Custom,
 CustomDraft, GenericCustomActionBuilder, Integer, Function, Function, Function,
 BaseSyncOptions)</code></a> but this one is only for primary resources (i.e resources which have their
 own endpoints for example channels, categories, inventory entries.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="buildPrimaryResourceCustomUpdateActions(io.sphere.sdk.types.Custom,io.sphere.sdk.types.CustomDraft,com.commercetools.sync.commons.helpers.GenericCustomActionBuilder,com.commercetools.sync.commons.BaseSyncOptions)">
<!--   -->
</a><a id="buildPrimaryResourceCustomUpdateActions(T,S,com.commercetools.sync.commons.helpers.GenericCustomActionBuilder,com.commercetools.sync.commons.BaseSyncOptions)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildPrimaryResourceCustomUpdateActions</h4>
<pre class="methodSignature">@Nonnull
public static&nbsp;&lt;T extends io.sphere.sdk.types.Custom &amp; io.sphere.sdk.models.Resource&lt;T&gt;,&#8203;S extends io.sphere.sdk.types.CustomDraft&gt;&nbsp;java.util.List&lt;io.sphere.sdk.commands.UpdateAction&lt;T&gt;&gt;&nbsp;buildPrimaryResourceCustomUpdateActions&#8203;(@Nonnull
                                                                                                                                                                                                                                       T&nbsp;oldResource,
                                                                                                                                                                                                                                       @Nonnull
                                                                                                                                                                                                                                       S&nbsp;newResource,
                                                                                                                                                                                                                                       @Nonnull
                                                                                                                                                                                                                                       <a href="../helpers/GenericCustomActionBuilder.html" title="interface in com.commercetools.sync.commons.helpers">GenericCustomActionBuilder</a>&lt;T&gt;&nbsp;customActionBuilder,
                                                                                                                                                                                                                                       @Nonnull
                                                                                                                                                                                                                                       <a href="../BaseSyncOptions.html" title="class in com.commercetools.sync.commons">BaseSyncOptions</a>&nbsp;syncOptions)</pre>
<div class="block">This method is a syntactic sugar for the method <a href="#buildCustomUpdateActions(T,S,com.commercetools.sync.commons.helpers.GenericCustomActionBuilder,java.lang.Integer,java.util.function.Function,java.util.function.Function,java.util.function.Function,com.commercetools.sync.commons.BaseSyncOptions)"><code>buildCustomUpdateActions(Custom,
 CustomDraft, GenericCustomActionBuilder, Integer, Function, Function, Function,
 BaseSyncOptions)</code></a> but this one is only for primary resources (i.e resources which have their
 own endpoints for example channels, categories, inventory entries. For more details of the
 inner logic and different scenarios, check the Javadoc of the other method.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of the old <code>Resource</code> which has the custom fields.</dd>
<dd><code>S</code> - the type of the new resource <code>CustomDraft</code>.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>oldResource</code> - the resource which should be updated.</dd>
<dd><code>newResource</code> - the resource draft where we get the new custom fields.</dd>
<dd><code>customActionBuilder</code> - the builder instance responsible for building the custom update
     actions.</dd>
<dd><code>syncOptions</code> - responsible for supplying the sync options to the sync utility method.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a list that contains all the update actions needed, otherwise an empty list if no
     update actions are needed.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#buildCustomUpdateActions(T,S,com.commercetools.sync.commons.helpers.GenericCustomActionBuilder,java.lang.Integer,java.util.function.Function,java.util.function.Function,java.util.function.Function,com.commercetools.sync.commons.BaseSyncOptions)"><code>)</code></a></dd>
</dl>
</li>
</ul>
<a id="buildCustomUpdateActions(java.lang.Object,io.sphere.sdk.types.Custom,io.sphere.sdk.types.CustomDraft,com.commercetools.sync.commons.helpers.GenericCustomActionBuilder,java.lang.Integer,java.util.function.Function,java.util.function.Function,java.util.function.Function,com.commercetools.sync.commons.BaseSyncOptions)">
<!--   -->
</a><a id="buildCustomUpdateActions(D,T,S,com.commercetools.sync.commons.helpers.GenericCustomActionBuilder,java.lang.Integer,java.util.function.Function,java.util.function.Function,java.util.function.Function,com.commercetools.sync.commons.BaseSyncOptions)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>buildCustomUpdateActions</h4>
<pre class="methodSignature">@Nonnull
public static&nbsp;&lt;D,&#8203;T extends io.sphere.sdk.types.Custom,&#8203;S extends io.sphere.sdk.types.CustomDraft,&#8203;U extends io.sphere.sdk.models.ResourceView&gt;&nbsp;java.util.List&lt;io.sphere.sdk.commands.UpdateAction&lt;U&gt;&gt;&nbsp;buildCustomUpdateActions&#8203;(@Nullable
                                                                                                                                                                                                                                               D&nbsp;newMainResourceDraft,
                                                                                                                                                                                                                                               @Nonnull
                                                                                                                                                                                                                                               T&nbsp;oldResource,
                                                                                                                                                                                                                                               @Nonnull
                                                                                                                                                                                                                                               S&nbsp;newResourceDraft,
                                                                                                                                                                                                                                               @Nonnull
                                                                                                                                                                                                                                               <a href="../helpers/GenericCustomActionBuilder.html" title="interface in com.commercetools.sync.commons.helpers">GenericCustomActionBuilder</a>&lt;U&gt;&nbsp;customActionBuilder,
                                                                                                                                                                                                                                               @Nullable
                                                                                                                                                                                                                                               java.lang.Integer&nbsp;variantId,
                                                                                                                                                                                                                                               @Nonnull
                                                                                                                                                                                                                                               java.util.function.Function&lt;T,&#8203;java.lang.String&gt;&nbsp;resourceIdGetter,
                                                                                                                                                                                                                                               @Nonnull
                                                                                                                                                                                                                                               java.util.function.Function&lt;T,&#8203;java.lang.String&gt;&nbsp;resourceTypeIdGetter,
                                                                                                                                                                                                                                               @Nonnull
                                                                                                                                                                                                                                               java.util.function.Function&lt;T,&#8203;java.lang.String&gt;&nbsp;updateIdGetter,
                                                                                                                                                                                                                                               @Nonnull
                                                                                                                                                                                                                                               <a href="../BaseSyncOptions.html" title="class in com.commercetools.sync.commons">BaseSyncOptions</a>&nbsp;syncOptions)</pre>
<div class="block">Compares the <code>CustomFields</code> of an old resource <code>T</code> (for example <code>Category</code>,
 <code>Product</code>, etc..), to the <code>CustomFieldsDraft</code>, of a new
 resource draft <code>S</code> (for example <code>CategoryDraft</code>, <code>ProductVariantDraft</code>, etc..), and returns a <code>List</code>&lt;<code>UpdateAction</code>&gt; as a result. If no update action is needed, for example in the case where
 both the <code>CustomFields</code> and the <code>CustomFieldsDraft</code> are null, an empty <code>List</code>&lt;<code>UpdateAction</code>&gt; is returned. A <a href="../BaseSyncOptions.html" title="class in com.commercetools.sync.commons"><code>BaseSyncOptions</code></a> instance is injected
 into the method which is responsible for supplying the sync options to the sync utility method.
 For example, custom error callbacks for errors. The <a href="../../services/TypeService.html" title="interface in com.commercetools.sync.services"><code>TypeService</code></a> is injected also for
 fetching the key of the old resource type from it's cache (see <a href="#buildNonNullCustomFieldsUpdateActions(io.sphere.sdk.types.CustomFields,io.sphere.sdk.types.CustomFieldsDraft,T,com.commercetools.sync.commons.helpers.GenericCustomActionBuilder,java.lang.Integer,java.util.function.Function,java.util.function.Function,java.util.function.Function,com.commercetools.sync.commons.BaseSyncOptions)"><code>buildNonNullCustomFieldsUpdateActions(CustomFields, CustomFieldsDraft,
 Custom, GenericCustomActionBuilder, Integer, Function, Function, Function, BaseSyncOptions)</code></a>).

 <p>An update action will be added to the result list in the following cases:-

 <ol>
   <li>If the new resources's custom type is set, but old resources's custom type is not. A
       "setCustomType" update actions is added, which sets the custom type (and all it's fields
       to the old resource).
   <li>If the new resource's custom type is not set, but the old resource's custom type is set.
       A "setCustomType" update action is added, which removes the type set on the old resource.
   <li>If both the resources custom types are the same and the custom fields are both set. The
       custom field values of both resources are then calculated. (see <a href="#buildSetCustomFieldsUpdateActions(java.util.Map,java.util.Map,T,com.commercetools.sync.commons.helpers.GenericCustomActionBuilder,java.lang.Integer,java.util.function.Function)"><code>buildSetCustomFieldsUpdateActions(Map, Map, Custom,
       GenericCustomActionBuilder, Integer, Function)</code></a> )})
   <li>If the keys of both custom types are different, then a "setCustomType" update action is
       added, where the old resource's custom type is set to be as the new one's.
   <li>If both resources custom type keys are identical but the custom fields of the new
       resource's custom type is not set.
 </ol>

 <p>An update action will <b>not</b> be added to the result list in the following cases:-

 <ol>
   <li>If both the resources' custom types are not set.
   <li>If both the resources' custom type keys are not set.
   <li>Custom fields are both empty.
   <li>Custom field JSON values have different ordering.
   <li>Custom field values are identical.
 </ol></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>D</code> - the type of the new <code>Resource</code> which is the super <code>Resource</code> of the
     Resource to update.</dd>
<dd><code>T</code> - the type of the old <code>Resource</code> which has the custom fields.</dd>
<dd><code>S</code> - the type of the new resource <code>CustomDraft</code>.</dd>
<dd><code>U</code> - the type of the resource in which the update actions will be applied on.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newMainResourceDraft</code> - the main resource of the resource draft where we get the new custom
     fields.</dd>
<dd><code>oldResource</code> - the resource which should be updated.</dd>
<dd><code>newResourceDraft</code> - the resource draft where we get the new custom fields.</dd>
<dd><code>customActionBuilder</code> - the builder instance responsible for building the custom update
     actions.</dd>
<dd><code>variantId</code> - optional field representing the variant id in case the oldResource is an
     asset.</dd>
<dd><code>resourceIdGetter</code> - a function used to get the id of the resource being updated.</dd>
<dd><code>resourceTypeIdGetter</code> - a function used to get the Type id of the resource being updated.</dd>
<dd><code>updateIdGetter</code> - a function used to get the id/key needed for updating the resource that
     has the custom fields.</dd>
<dd><code>syncOptions</code> - responsible for supplying the sync options to the sync utility method.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a list that contains all the update actions needed, otherwise an empty list if no
     update actions are needed.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
